# Configura√ß√£o do Dependabot para Radar WebScrapping
# Documenta√ß√£o: https://docs.github.com/en/code-security/dependabot

version: 2
updates:
  # ===============================================================================
  # PYTHON DEPENDENCIES
  # ===============================================================================
  - package-ecosystem: "pip"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00"
      timezone: "America/Bahia"
    
    # Configura√ß√µes de PR
    open-pull-requests-limit: 5
    
    # Prefixos para commits e PRs
    commit-message:
      prefix: "‚¨ÜÔ∏è"
      prefix-development: "‚¨ÜÔ∏è dev"
      include: "scope"
    
    # Labels para PRs
    labels:
      - "dependencies"
      - "python"
      - "automated"
    
    # Reviewers autom√°ticos
    reviewers:
      - "devruso"
    
    # Grupos de depend√™ncias
    groups:
      # Core dependencies (cr√≠ticas)
      core-dependencies:
        patterns:
          - "fastapi*"
          - "sqlalchemy*"
          - "pydantic*"
          - "selenium*"
          - "asyncio*"
      
      # Development dependencies
      dev-dependencies:
        patterns:
          - "pytest*"
          - "black*"
          - "flake8*"
          - "mypy*"
          - "isort*"
      
      # Security dependencies
      security-dependencies:
        patterns:
          - "cryptography*"
          - "requests*"
          - "urllib3*"
          - "certifi*"
    
    # Ignorar algumas atualiza√ß√µes
    ignore:
      # Ignorar major versions para pacotes cr√≠ticos
      - dependency-name: "sqlalchemy"
        update-types: ["version-update:semver-major"]
      
      - dependency-name: "fastapi"
        update-types: ["version-update:semver-major"]
      
      # Ignorar vers√µes espec√≠ficas problem√°ticas (exemplo)
      # - dependency-name: "some-package"
      #   versions: ["1.0.0", "1.0.1"]

  # ===============================================================================
  # DOCKER DEPENDENCIES
  # ===============================================================================
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "tuesday"
      time: "10:00"
      timezone: "America/Bahia"
    
    open-pull-requests-limit: 2
    
    commit-message:
      prefix: "üê≥"
      include: "scope"
    
    labels:
      - "dependencies"
      - "docker"
      - "automated"
    
    reviewers:
      - "devruso"

  # ===============================================================================
  # GITHUB ACTIONS
  # ===============================================================================
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "wednesday"
      time: "11:00"
      timezone: "America/Bahia"
    
    open-pull-requests-limit: 3
    
    commit-message:
      prefix: "ü§ñ"
      include: "scope"
    
    labels:
      - "dependencies"
      - "github-actions"
      - "automated"
      - "ci-cd"
    
    reviewers:
      - "devruso"

  # ===============================================================================
  # DOCKER COMPOSE (se houver docker-compose.yml separado)
  # ===============================================================================
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "monthly"
      day: "first-monday"
    
    commit-message:
      prefix: "üê≥ compose"
    
    labels:
      - "dependencies"
      - "docker-compose"
      - "automated"